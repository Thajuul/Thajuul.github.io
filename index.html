<!DOCTYPE html>
<html>
<head>
  <title>GBA Emulator</title>
</head>
<body>
  <h1>Play GBA Game</h1>
  <input type="file" id="upload" />
  <script src="gba.js"></script>
  <script>
    const upload = document.getElementById('upload');
    upload.addEventListener('change', function () {
      const file = this.files[0];
      const reader = new FileReader();
      reader.onload = function () {
        const rom = reader.result;
        const gba = new GameBoyAdvance();
        gba.setCanvas(document.createElement("canvas"));
        gba.loadRomFromByteArray(new Uint8Array(rom));
        gba.runStable();
        document.body.appendChild(gba.canvas);
      };
      reader.readAsArrayBuffer(file);
    });
  </script>
</body>
</html>
